# Binderï¼ˆåˆé¡µï¼‰ç¬¬ä¸‰é˜¶æ®µå¼€å‘è®¡åˆ’

## æ–‡æ¡£ä¿¡æ¯

- **é˜¶æ®µåç§°**ï¼šAI åŠŸèƒ½é›†æˆä¸ä¼˜åŒ–
- **å¼€å‘å‘¨æœŸ**ï¼š6 å‘¨ï¼ˆWeek 11-16ï¼‰
- **å¼€å‘ç›®æ ‡**ï¼šå®ç°å®Œæ•´çš„ AI ä¸‰å±‚æ¶æ„ï¼ŒåŒ…æ‹¬è‡ªåŠ¨è¡¥å…¨ã€Inline Assistã€èŠå¤©çª—å£ï¼Œä»¥åŠ SQLite å…¨æ–‡ç´¢å¼•å’Œè®°å¿†åº“åŠŸèƒ½
- **ç‰ˆæœ¬**ï¼šv3.0ï¼ˆåŸºäºå‰ä¸¤é˜¶æ®µç»éªŒä¼˜åŒ–ç‰ˆï¼‰
- **åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´
- **æœ€åæ›´æ–°**ï¼š2025å¹´
- **æ›´æ–°è¯´æ˜**ï¼šåŸºäºç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µçš„ç»éªŒæ•™è®­ï¼Œé‡ç‚¹å…³æ³¨ç¨³å®šæ€§ã€API éªŒè¯ã€é”™è¯¯å¤„ç†å’Œæµ‹è¯•è¦†ç›–

## æ€»ä½“ç›®æ ‡

å®ç°å®Œæ•´çš„ AI è¾…åŠ©åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¸‰å±‚æ¶æ„ï¼ˆè‡ªåŠ¨è¡¥å…¨ã€Inline Assistã€èŠå¤©çª—å£ï¼‰ã€SQLite å…¨æ–‡ç´¢å¼•ã€è®°å¿†åº“åŠŸèƒ½ï¼Œä¸º Binder æä¾›å¼ºå¤§çš„ AI èƒ½åŠ›ã€‚

**æ ¸å¿ƒåŸåˆ™**ï¼ˆåŸºäºå‰ä¸¤é˜¶æ®µç»éªŒï¼‰ï¼š
- âœ… **ç¨³å®šæ€§ä¼˜å…ˆ**ï¼šæ¯ä¸ªåŠŸèƒ½éƒ½è¦æœ‰å®Œæ•´çš„é”™è¯¯å¤„ç†ã€é‡è¯•æœºåˆ¶å’Œé™çº§æ–¹æ¡ˆ
- âœ… **API æå‰éªŒè¯**ï¼šæ‰€æœ‰æ–° API ä½¿ç”¨å‰éƒ½è¦éªŒè¯ï¼Œç‰¹åˆ«æ˜¯ Tauri 2.x å’Œ AI æœåŠ¡ API
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šè¯·æ±‚ç¼“å­˜ã€å»é‡ã€å–æ¶ˆæœºåˆ¶ï¼Œé¿å…èµ„æºæµªè´¹
- âœ… **ç”¨æˆ·ä½“éªŒ**ï¼šæµç•…çš„äº¤äº’ã€æ¸…æ™°çš„åé¦ˆã€ä¼˜é›…çš„é”™è¯¯æç¤º
- âœ… **æµ‹è¯•è¦†ç›–**ï¼šå…³é”®åŠŸèƒ½è¦æœ‰å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- âœ… **é›¶ç›²ç‚¹**ï¼šåŠŸèƒ½çš„æ¯ä¸ªç¯èŠ‚ã€æµç¨‹çš„æ¯ä¸ªé€»è¾‘é“¾éƒ½è¦æœ‰æ˜ç¡®çš„è®¾è®¡

---

## å‰ä¸¤é˜¶æ®µç»éªŒæ€»ç»“

### âœ… æˆåŠŸç»éªŒ

1. **æ¨¡å—åŒ–è®¾è®¡**ï¼šå‰åç«¯åˆ†ç¦»æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæµ‹è¯•
2. **ç±»å‹å®‰å…¨**ï¼šTypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
3. **çŠ¶æ€ç®¡ç†**ï¼šZustand ä½¿ç”¨ç®€å•é«˜æ•ˆï¼ŒçŠ¶æ€ç®¡ç†æ¸…æ™°
4. **æ–‡ä»¶ç³»ç»Ÿç›‘å¬**ï¼šä½¿ç”¨ notify crate å®ç°è‡ªåŠ¨åˆ·æ–°
5. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
6. **å¸ƒå±€ä¼˜åŒ–**ï¼šå›ºå®šå®½åº¦å¸ƒå±€ï¼Œæ ‡ç­¾æ æ¨ªå‘æ»šåŠ¨

### âš ï¸ éœ€è¦æ”¹è¿›

1. **API å…¼å®¹æ€§**ï¼šTauri 2.x API å˜åŒ–éœ€è¦æå‰éªŒè¯
2. **æƒé™é…ç½®**ï¼šéœ€è¦è¯¦ç»†çš„æƒé™é…ç½®æ–‡æ¡£
3. **æµ‹è¯•è¦†ç›–**ï¼šç¼ºå°‘æµ‹è¯•ï¼Œå¯¼è‡´é—®é¢˜å‘ç°è¾ƒæ™š
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šæŸäº›æ“ä½œï¼ˆå¦‚æ–‡ä»¶æ ‘æ„å»ºï¼‰éœ€è¦ä¼˜åŒ–
5. **ç”¨æˆ·ä½“éªŒ**ï¼šæŸäº›äº¤äº’ï¼ˆå¦‚æ ‡ç­¾æ æ»šåŠ¨ï¼‰éœ€è¦æ”¹è¿›

### ğŸ”§ æ”¹è¿›æªæ–½

1. **æå‰éªŒè¯ API**ï¼šæ¯ä¸ªæ–° API ä½¿ç”¨å‰éƒ½è¦éªŒè¯ï¼Œç‰¹åˆ«æ˜¯ AI æœåŠ¡ API
2. **è¯¦ç»†æƒé™æ–‡æ¡£**ï¼šåˆ—å‡ºæ‰€æœ‰éœ€è¦çš„æƒé™å’Œé…ç½®æ–¹æ³•
3. **å®Œå–„é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰å…³é”®æ“ä½œéƒ½è¦æœ‰é”™è¯¯å¤„ç†ã€é‡è¯•æœºåˆ¶å’Œé™çº§æ–¹æ¡ˆ
4. **å¢åŠ æµ‹è¯•**ï¼šå…³é”®åŠŸèƒ½è¦æœ‰å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šè¯·æ±‚ç¼“å­˜ã€å»é‡ã€å–æ¶ˆæœºåˆ¶ï¼Œé¿å…èµ„æºæµªè´¹
6. **ç”¨æˆ·ä½“éªŒ**ï¼šæµç•…çš„äº¤äº’ã€æ¸…æ™°çš„åé¦ˆã€ä¼˜é›…çš„é”™è¯¯æç¤º

---

## Week 11-12ï¼šAI æœåŠ¡åŸºç¡€æ¶æ„

### ç›®æ ‡

æ­å»º AI æœåŠ¡åŸºç¡€æ¶æ„ï¼ŒåŒ…æ‹¬æ¨¡å‹ç®¡ç†ã€è¯·æ±‚é˜Ÿåˆ—ã€é”™è¯¯å¤„ç†å’Œæµå¼å“åº”æ”¯æŒã€‚

### 11.1 AI æœåŠ¡æ¶æ„è®¾è®¡ï¼ˆDay 1-2ï¼‰

#### 11.1.1 åç«¯ AI æœåŠ¡æ¡†æ¶

**ä»»åŠ¡**ï¼šåˆ›å»º AI æœåŠ¡åŸºç¡€æ¶æ„

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º AI æœåŠ¡æ¨¡å—ç»“æ„**
   ```
   src-tauri/src/services/
   â”œâ”€â”€ ai_service.rs          # AI æœåŠ¡ä¸»æ¨¡å—
   â”œâ”€â”€ ai_providers/          # AI æä¾›å•†å®ç°
   â”‚   â”œâ”€â”€ mod.rs
   â”‚   â”œâ”€â”€ openai.rs          # OpenAI å®ç°
   â”‚   â”œâ”€â”€ anthropic.rs       # Anthropic å®ç°
   â”‚   â”œâ”€â”€ gemini.rs          # Google Gemini å®ç°
   â”‚   â””â”€â”€ local.rs           # æœ¬åœ°æ¨¡å‹å®ç°ï¼ˆOllamaï¼‰
   â”œâ”€â”€ ai_queue.rs            # AI è¯·æ±‚é˜Ÿåˆ—
   â””â”€â”€ ai_config.rs           # AI é…ç½®ç®¡ç†
   ```

2. **å®šä¹‰ AI æœåŠ¡æ¥å£**
   ```rust
   // src-tauri/src/services/ai_service.rs
   pub trait AIProvider: Send + Sync {
       async fn autocomplete(&self, context: &str) -> Result<String, AIError>;
       async fn inline_assist(&self, instruction: &str, text: &str) -> Result<String, AIError>;
       async fn chat_stream(&self, messages: &[Message]) -> Result<Stream, AIError>;
   }
   
   pub struct AIService {
       providers: HashMap<String, Box<dyn AIProvider>>,
       queue: AIRequestQueue,
       config: AIConfig,
   }
   ```

3. **å®ç° AI é…ç½®ç®¡ç†**
   ```rust
   // src-tauri/src/services/ai_config.rs
   #[derive(Debug, Clone, Serialize, Deserialize)]
   pub struct AIConfig {
       pub request_timeout: Duration,           // é»˜è®¤ 60 ç§’
       pub autocomplete_trigger_delay: Duration, // é»˜è®¤ 7 ç§’ï¼ˆ5-15 ç§’èŒƒå›´ï¼‰
       pub undo_redo_max_steps: usize,         // é»˜è®¤ 50
       pub max_concurrent_requests: usize,     // é»˜è®¤ 3
   }
   
   impl AIConfig {
       pub fn load() -> Result<Self, String> {
           // ä»é…ç½®æ–‡ä»¶åŠ è½½ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨é»˜è®¤å€¼
       }
       
       pub fn save(&self) -> Result<(), String> {
           // ä¿å­˜åˆ°é…ç½®æ–‡ä»¶
       }
   }
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… AI æœåŠ¡æ¨¡å—ç»“æ„åˆ›å»ºå®Œæˆ
- âœ… AI æœåŠ¡æ¥å£å®šä¹‰å®Œæˆ
- âœ… AI é…ç½®ç®¡ç†å®ç°å®Œæˆ
- âœ… ä»£ç ç¼–è¯‘é€šè¿‡

#### 11.1.2 AI è¯·æ±‚é˜Ÿåˆ—å®ç°

**ä»»åŠ¡**ï¼šå®ç° AI è¯·æ±‚é˜Ÿåˆ—ï¼Œæ”¯æŒä¼˜å…ˆçº§å’Œå¹¶å‘æ§åˆ¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **å®ç°è¯·æ±‚é˜Ÿåˆ—**
   ```rust
   // src-tauri/src/services/ai_queue.rs
   #[derive(Debug, Clone, PartialEq, Eq, PartialOrd, Ord)]
   pub enum RequestPriority {
       Low,      // è‡ªåŠ¨è¡¥å…¨
       Normal,   // èŠå¤©
       High,     // Inline Assist
   }
   
   pub struct AIRequest {
       pub id: String,
       pub priority: RequestPriority,
       pub request_type: RequestType,
       pub cancel_token: CancellationToken,
   }
   
   pub struct AIRequestQueue {
       queue: VecDeque<AIRequest>,
       active_requests: usize,
       max_concurrent: usize,
   }
   
   impl AIRequestQueue {
       pub async fn enqueue(&mut self, request: AIRequest) -> Result<()>;
       pub async fn dequeue(&mut self) -> Option<AIRequest>;
       pub fn cancel(&mut self, request_id: &str) -> bool;
   }
   ```

2. **å®ç°è¯·æ±‚å–æ¶ˆæœºåˆ¶**
   - ä½¿ç”¨ `tokio::sync::CancellationToken` å®ç°è¯·æ±‚å–æ¶ˆ
   - ç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶è‡ªåŠ¨å–æ¶ˆè‡ªåŠ¨è¡¥å…¨è¯·æ±‚
   - ç”¨æˆ·å…³é—­æ ‡ç­¾é¡µæ—¶å–æ¶ˆæ‰€æœ‰ç›¸å…³è¯·æ±‚

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… è¯·æ±‚é˜Ÿåˆ—å®ç°å®Œæˆ
- âœ… ä¼˜å…ˆçº§ç®¡ç†å®ç°å®Œæˆ
- âœ… å¹¶å‘æ§åˆ¶å®ç°å®Œæˆ
- âœ… è¯·æ±‚å–æ¶ˆæœºåˆ¶å®ç°å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

#### 11.1.3 AI é”™è¯¯å¤„ç†

**ä»»åŠ¡**ï¼šå®ç°å®Œå–„çš„ AI é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **å®šä¹‰é”™è¯¯ç±»å‹**
   ```rust
   // src-tauri/src/services/ai_service.rs
   #[derive(Debug, Clone, Serialize, Deserialize)]
   pub enum AIError {
       NetworkError(String),
       RateLimit { retry_after: u64 },
       ModelUnavailable,
       ContextTooLong,
       Timeout,
       Cancelled,
       Unknown(String),
   }
   
   impl AIError {
       pub fn is_retryable(&self) -> bool {
           matches!(
               self,
               AIError::NetworkError(_) 
               | AIError::RateLimit { .. } 
               | AIError::ModelUnavailable
           )
       }
       
       pub fn retry_after(&self) -> Option<u64> {
           match self {
               AIError::RateLimit { retry_after } => Some(*retry_after),
               _ => None,
           }
       }
   }
   ```

2. **å®ç°é‡è¯•æœºåˆ¶**
   - å¯é‡è¯•é”™è¯¯è‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
   - ä½¿ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥
   - RateLimit é”™è¯¯ç­‰å¾…æŒ‡å®šæ—¶é—´åé‡è¯•

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… é”™è¯¯ç±»å‹å®šä¹‰å®Œæˆ
- âœ… é‡è¯•æœºåˆ¶å®ç°å®Œæˆ
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•é€šè¿‡

### 11.2 OpenAI æä¾›å•†å®ç°ï¼ˆDay 3-5ï¼‰

#### 11.2.1 OpenAI API é›†æˆ

**ä»»åŠ¡**ï¼šå®ç° OpenAI æä¾›å•†

**å…·ä½“æ­¥éª¤**ï¼š

1. **æ·»åŠ ä¾èµ–**
   ```toml
   # src-tauri/Cargo.toml
   [dependencies]
   reqwest = { version = "0.11", features = ["json", "stream"] }
   tokio-stream = "0.1"
   serde_json = "1.0"
   ```

2. **å®ç° OpenAI æä¾›å•†**
   ```rust
   // src-tauri/src/services/ai_providers/openai.rs
   pub struct OpenAIProvider {
       api_key: String,
       base_url: String,
       client: reqwest::Client,
   }
   
   impl AIProvider for OpenAIProvider {
       async fn autocomplete(&self, context: &str) -> Result<String, AIError> {
           // ä½¿ç”¨ GPT-3.5-turbo æˆ– GPT-4o-mini
           // é™åˆ¶ç”Ÿæˆé•¿åº¦ï¼ˆ20-50 å­—ç¬¦ï¼‰
       }
       
       async fn inline_assist(&self, instruction: &str, text: &str) -> Result<String, AIError> {
           // ä½¿ç”¨ GPT-4o æˆ– GPT-4-turbo
       }
       
       async fn chat_stream(&self, messages: &[Message]) -> Result<Stream, AIError> {
           // æµå¼å“åº”
       }
   }
   ```

3. **å®ç°æµå¼å“åº”å¤„ç†**
   - ä½¿ç”¨ `tokio_stream` å¤„ç† SSE æµ
   - å®æ—¶è§£æ JSON å“åº”
   - æ”¯æŒå–æ¶ˆæ“ä½œ

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… OpenAI æä¾›å•†å®ç°å®Œæˆ
- âœ… æµå¼å“åº”å¤„ç†å®ç°å®Œæˆ
- âœ… API è°ƒç”¨æµ‹è¯•é€šè¿‡
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•é€šè¿‡

#### 11.2.2 API å¯†é’¥ç®¡ç†

**ä»»åŠ¡**ï¼šå®ç°å®‰å…¨çš„ API å¯†é’¥å­˜å‚¨

**å…·ä½“æ­¥éª¤**ï¼š

1. **ä½¿ç”¨ç³»ç»Ÿå¯†é’¥é“¾å­˜å‚¨ API å¯†é’¥**
   ```rust
   // src-tauri/src/services/ai_service.rs
   use keyring::Entry;
   
   pub struct APIKeyManager {
       service_name: String,
   }
   
   impl APIKeyManager {
       pub fn save_key(&self, provider: &str, key: &str) -> Result<(), String> {
           let entry = Entry::new(&self.service_name, provider)?;
           entry.set_password(key)?;
           Ok(())
       }
       
       pub fn get_key(&self, provider: &str) -> Result<String, String> {
           let entry = Entry::new(&self.service_name, provider)?;
           entry.get_password().map_err(|e| e.to_string())
       }
   }
   ```

2. **æ·»åŠ  keyring ä¾èµ–**
   ```toml
   # src-tauri/Cargo.toml
   [dependencies]
   keyring = "2.0"
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… API å¯†é’¥ç®¡ç†å®ç°å®Œæˆ
- âœ… å¯†é’¥å­˜å‚¨æµ‹è¯•é€šè¿‡
- âœ… å®‰å…¨æ€§éªŒè¯é€šè¿‡

### 11.3 Tauri å‘½ä»¤æ³¨å†Œï¼ˆDay 6-7ï¼‰

#### 11.3.1 AI å‘½ä»¤å®ç°

**ä»»åŠ¡**ï¼šå®ç° Tauri AI å‘½ä»¤

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º AI å‘½ä»¤æ¨¡å—**
   ```rust
   // src-tauri/src/commands/ai_commands.rs
   use crate::services::ai_service::AIService;
   
   #[tauri::command]
   pub async fn ai_autocomplete(
       context: String,
       position: usize,
       max_length: usize,
   ) -> Result<Option<String>, String> {
       // è°ƒç”¨ AI æœåŠ¡
   }
   
   #[tauri::command]
   pub async fn ai_inline_assist(
       instruction: String,
       text: String,
       context: String,
   ) -> Result<String, String> {
       // è°ƒç”¨ AI æœåŠ¡
   }
   
   #[tauri::command]
   pub async fn ai_chat_stream(
       messages: Vec<Message>,
       context: ChatContext,
   ) -> Result<(), String> {
       // æµå¼å“åº”é€šè¿‡äº‹ä»¶å‘é€
   }
   ```

2. **æ³¨å†Œå‘½ä»¤**
   ```rust
   // src-tauri/src/main.rs
   .invoke_handler(tauri::generate_handler![
       // ... å…¶ä»–å‘½ä»¤
       commands::ai_commands::ai_autocomplete,
       commands::ai_commands::ai_inline_assist,
       commands::ai_commands::ai_chat_stream,
   ])
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… AI å‘½ä»¤å®ç°å®Œæˆ
- âœ… å‘½ä»¤æ³¨å†Œå®Œæˆ
- âœ… å‰åç«¯é€šä¿¡æµ‹è¯•é€šè¿‡

---

## Week 13ï¼šå±‚æ¬¡ä¸€ - è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½

### ç›®æ ‡

å®ç°è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¹½çµæ–‡å­—æ˜¾ç¤ºã€è§¦å‘æœºåˆ¶ã€ç¼“å­˜ä¼˜åŒ–ç­‰ã€‚

### 13.1 è‡ªåŠ¨è¡¥å…¨ Hook å®ç°ï¼ˆDay 1-3ï¼‰

#### 13.1.1 åˆ›å»º useAutoComplete Hook

**ä»»åŠ¡**ï¼šå®ç°è‡ªåŠ¨è¡¥å…¨ React Hook

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º Hook æ–‡ä»¶**
   ```typescript
   // src/hooks/useAutoComplete.ts
   import { useState, useEffect, useRef, useCallback } from 'react';
   import { invoke } from '@tauri-apps/api/core';
   import { useEditorStore } from '../stores/editorStore';
   
   export interface AutoCompleteState {
       text: string | null;
       position: number | null;
       isVisible: boolean;
   }
   
   export function useAutoComplete(editor: Editor | null) {
       const [state, setState] = useState<AutoCompleteState>({
           text: null,
           position: null,
           isVisible: false,
       });
       
       const triggerTimerRef = useRef<NodeJS.Timeout | null>(null);
       const cancelTokenRef = useRef<string | null>(null);
       const lastContextRef = useRef<string>('');
       
       // è§¦å‘è‡ªåŠ¨è¡¥å…¨
       const trigger = useCallback(async () => {
           if (!editor) return;
           
           const { from } = editor.state.selection;
           const context = editor.state.doc.textBetween(
               Math.max(0, from - 200),
               from
           );
           
           // æ£€æŸ¥ä¸Šä¸‹æ–‡æ˜¯å¦å˜åŒ–
           if (context === lastContextRef.current) {
               return; // ä¸Šä¸‹æ–‡æœªå˜åŒ–ï¼Œä¸è§¦å‘
           }
           
           lastContextRef.current = context;
           
           try {
               const result = await invoke<Option<string>>('ai_autocomplete', {
                   context,
                   position: from,
                   maxLength: 50,
               });
               
               if (result) {
                   setState({
                       text: result,
                       position: from,
                       isVisible: true,
                   });
               }
           } catch (error) {
               console.error('è‡ªåŠ¨è¡¥å…¨å¤±è´¥:', error);
           }
       }, [editor]);
       
       // æ¸…é™¤è‡ªåŠ¨è¡¥å…¨
       const clear = useCallback(() => {
           setState({
               text: null,
               position: null,
               isVisible: false,
           });
           if (triggerTimerRef.current) {
               clearTimeout(triggerTimerRef.current);
               triggerTimerRef.current = null;
           }
       }, []);
       
       // æ¥å—è¡¥å…¨
       const accept = useCallback(() => {
           if (!editor || !state.text || !state.position) return;
           
           editor.chain()
               .focus()
               .insertContent(state.text)
               .run();
           
           clear();
       }, [editor, state, clear]);
       
       return {
           state,
           trigger,
           clear,
           accept,
       };
   }
   ```

2. **å®ç°è§¦å‘æœºåˆ¶**
   - ç›‘å¬å…‰æ ‡ä½ç½®å˜åŒ–
   - å…‰æ ‡é™æ­¢ 7 ç§’åè§¦å‘ï¼ˆå¯é…ç½®ï¼‰
   - ç”¨æˆ·è¾“å…¥æˆ–ç§»åŠ¨å…‰æ ‡æ—¶æ¸…é™¤

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… useAutoComplete Hook å®ç°å®Œæˆ
- âœ… è§¦å‘æœºåˆ¶å®ç°å®Œæˆ
- âœ… æ¸…é™¤æœºåˆ¶å®ç°å®Œæˆ
- âœ… æ¥å—æœºåˆ¶å®ç°å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

#### 13.1.2 å¹½çµæ–‡å­—æ˜¾ç¤ºç»„ä»¶ï¼ˆDay 3ï¼‰âš ï¸ **é«˜å±ä¿®å¤**

**ä»»åŠ¡**ï¼šå®ç°å¹½çµæ–‡å­—åœ¨ TipTap ä¸­çš„çœŸå®æ¸²æŸ“

**é—®é¢˜**ï¼šåªå†™äº† Hookï¼Œä½†æ²¡è¯´æ€ä¹ˆæŠŠæ–‡å­—æ’åˆ°å…‰æ ‡åé¢è¿˜ä¸è¢«ç¼–è¾‘ã€‚ç”¨æˆ·æ°¸è¿œçœ‹ä¸åˆ°ç°è‰²ç»­å†™æ–‡å­—ï¼Œæˆ–è€…ä¸€æ‰“å­—å°±ä¹±äº†ã€‚

**å…·ä½“æ­¥éª¤**ï¼š

1. **ä½¿ç”¨ TipTap Decoration æ’ä»¶æ˜¾ç¤ºå¹½çµæ–‡å­—**
   ```typescript
   // src/components/Editor/GhostText.tsx
   import { Decoration, DecorationSet } from '@tiptap/pm/view';
   import { Plugin, PluginKey } from '@tiptap/pm/state';
   import { useAutoComplete } from '../../hooks/useAutoComplete';
   
   interface GhostTextProps {
       editor: Editor | null;
   }
   
   // åˆ›å»º Decoration æ’ä»¶
   const ghostTextPluginKey = new PluginKey('ghostText');
   
   export const createGhostTextPlugin = (getGhostText: () => { text: string; position: number } | null) => {
       return new Plugin({
           key: ghostTextPluginKey,
           state: {
               init() {
                   return DecorationSet.empty;
               },
               apply(tr, set) {
                   const ghostText = getGhostText();
                   if (!ghostText) {
                       return DecorationSet.empty;
                   }
                   
                   const { text, position } = ghostText;
                   const from = position;
                   const to = position + text.length;
                   
                   // åˆ›å»º inline decoration
                   const decoration = Decoration.inline(from, to, {
                       class: 'ghost-text',
                       style: 'color: #999; opacity: 0.6; pointer-events: none;',
                   });
                   
                   return DecorationSet.create(tr.doc, [decoration]);
               },
           },
           props: {
               decorations(state) {
                   return this.getState(state);
               },
           },
       });
   };
   
   // åœ¨ TipTapEditor ä¸­ä½¿ç”¨
   // src/components/Editor/TipTapEditor.tsx
   import { createGhostTextPlugin } from './GhostText';
   
   const editor = useEditor({
       extensions: [
           StarterKit,
           // ... å…¶ä»–æ‰©å±•
       ],
       onUpdate: ({ editor }) => {
           // æ¸…é™¤å¹½çµæ–‡å­—
           clearGhostText();
       },
       editorProps: {
           // ç”¨æˆ·è¾“å…¥æ—¶æ¸…é™¤å¹½çµæ–‡å­—
           handleKeyDown: (view, event) => {
               if (event.key !== 'Tab' && event.key !== 'Escape') {
                   clearGhostText();
               }
           },
       },
   });
   
   // æ·»åŠ æ’ä»¶
   useEffect(() => {
       if (editor) {
           const plugin = createGhostTextPlugin(() => {
               const { state } = useAutoComplete(editor);
               if (state.isVisible && state.text && state.position !== null) {
                   return { text: state.text, position: state.position };
               }
               return null;
           });
           editor.view.dispatch(
               editor.state.tr.setMeta('addToHistory', false)
           );
       }
   }, [editor]);
   ```

2. **æ·»åŠ  CSS æ ·å¼**
   ```css
   /* src/index.css */
   .ghost-text {
       color: #999 !important;
       opacity: 0.6 !important;
       pointer-events: none !important;
       user-select: none !important;
   }
   ```

3. **å¤„ç† Tab é”®æ¥å—è¡¥å…¨**
   ```typescript
   // åœ¨ TipTapEditor ä¸­
   editor.setOptions({
       editorProps: {
           handleKeyDown: (view, event) => {
               if (event.key === 'Tab' && ghostTextState.isVisible) {
                   event.preventDefault();
                   acceptGhostText();
                   return true;
               }
               if (event.key === 'Escape' && ghostTextState.isVisible) {
                   event.preventDefault();
                   clearGhostText();
                   return true;
               }
               return false;
           },
       },
   });
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… å¹½çµæ–‡å­—ä½¿ç”¨ TipTap Decoration æ­£ç¡®æ¸²æŸ“
- âœ… å¹½çµæ–‡å­—æ˜¾ç¤ºåœ¨å…‰æ ‡åæ–¹ï¼ŒåŠé€æ˜ç°è‰²
- âœ… ç”¨æˆ·è¾“å…¥æ—¶è‡ªåŠ¨æ¸…é™¤å¹½çµæ–‡å­—
- âœ… Tab é”®æ¥å—è¡¥å…¨ï¼ŒEscape é”®æ¸…é™¤
- âœ… ä¸å½±å“ç¼–è¾‘å™¨æ­£å¸¸ç¼–è¾‘åŠŸèƒ½
- âœ… æ ·å¼æ­£ç¡®ï¼ˆåŠé€æ˜ã€ç°è‰²ã€ä¸å¯é€‰ä¸­ï¼‰

#### 13.1.3 ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–

**ä»»åŠ¡**ï¼šå®ç°è¯·æ±‚ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–

**å…·ä½“æ­¥éª¤**ï¼š

1. **å®ç° LRU ç¼“å­˜**
   ```rust
   // src-tauri/src/services/ai_service.rs
   use lru::LruCache;
   
   pub struct AutoCompleteCache {
       cache: LruCache<String, String>,
       max_size: usize,
   }
   
   impl AutoCompleteCache {
       pub fn get(&mut self, key: &str) -> Option<String> {
           self.cache.get(key).cloned()
       }
       
       pub fn put(&mut self, key: String, value: String) {
           self.cache.put(key, value);
       }
   }
   ```

2. **å®ç°è¯·æ±‚å»é‡**
   - ç›¸åŒä¸Šä¸‹æ–‡çš„è¯·æ±‚å¤ç”¨ç»“æœ
   - ä½¿ç”¨è¯·æ±‚ ID å»é‡

3. **å®ç°è¯·æ±‚å–æ¶ˆ**
   - ç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶è‡ªåŠ¨å–æ¶ˆä¹‹å‰çš„è¯·æ±‚
   - ä½¿ç”¨ CancellationToken å®ç°

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… ç¼“å­˜æœºåˆ¶å®ç°å®Œæˆ
- âœ… è¯·æ±‚å»é‡å®ç°å®Œæˆ
- âœ… è¯·æ±‚å–æ¶ˆå®ç°å®Œæˆ
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡

---

## Week 14ï¼šå±‚æ¬¡äºŒ - Inline Assist åŠŸèƒ½

### ç›®æ ‡

å®ç° Inline Assist åŠŸèƒ½ï¼ŒåŒ…æ‹¬ Cmd+K å¿«æ·é”®ã€è¾“å…¥æ¡†ã€Diff è§†å›¾ç­‰ã€‚

### 14.1 Inline Assist Hook å®ç°ï¼ˆDay 1-2ï¼‰

#### 14.1.1 åˆ›å»º useInlineAssist Hook

**ä»»åŠ¡**ï¼šå®ç° Inline Assist React Hook

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º Hook æ–‡ä»¶**
   ```typescript
   // src/hooks/useInlineAssist.ts
   import { useState, useCallback } from 'react';
   import { invoke } from '@tauri-apps/api/core';
   import { listen } from '@tauri-apps/api/event';
   
   export interface InlineAssistState {
       isVisible: boolean;
       instruction: string;
       selectedText: string;
       diff: string | null;
       isLoading: boolean;
   }
   
   export function useInlineAssist(editor: Editor | null) {
       const [state, setState] = useState<InlineAssistState>({
           isVisible: false,
           instruction: '',
           selectedText: '',
           diff: null,
           isLoading: false,
       });
       
       // æ‰“å¼€ Inline Assist
       const open = useCallback((selectedText: string) => {
           setState({
               isVisible: true,
               instruction: '',
               selectedText,
               diff: null,
               isLoading: false,
           });
       }, []);
       
       // å…³é—­ Inline Assist
       const close = useCallback(() => {
           setState({
               isVisible: false,
               instruction: '',
               selectedText: '',
               diff: null,
               isLoading: false,
           });
       }, []);
       
       // æäº¤æŒ‡ä»¤
       const submit = useCallback(async () => {
           if (!editor || !state.instruction) return;
           
           setState(prev => ({ ...prev, isLoading: true }));
           
           try {
               const result = await invoke<string>('ai_inline_assist', {
                   instruction: state.instruction,
                   text: state.selectedText,
                   context: editor.state.doc.textContent(),
               });
               
               setState(prev => ({
                   ...prev,
                   diff: result,
                   isLoading: false,
               }));
           } catch (error) {
               console.error('Inline Assist å¤±è´¥:', error);
               setState(prev => ({ ...prev, isLoading: false }));
           }
       }, [editor, state.instruction, state.selectedText]);
       
       return {
           state,
           open,
           close,
           submit,
       };
   }
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… useInlineAssist Hook å®ç°å®Œæˆ
- âœ… æ‰“å¼€/å…³é—­æœºåˆ¶å®ç°å®Œæˆ
- âœ… æäº¤æœºåˆ¶å®ç°å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

#### 14.1.2 Inline Assist è¾“å…¥æ¡†ç»„ä»¶

**ä»»åŠ¡**ï¼šå®ç° Inline Assist è¾“å…¥æ¡†ç»„ä»¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º InlineAssistInput ç»„ä»¶**
   ```typescript
   // src/components/Editor/InlineAssistInput.tsx
   import React, { useEffect, useRef } from 'react';
   import { useInlineAssist } from '../../hooks/useInlineAssist';
   
   interface InlineAssistInputProps {
       editor: Editor | null;
       position: { x: number; y: number };
   }
   
   export const InlineAssistInput: React.FC<InlineAssistInputProps> = ({
       editor,
       position,
   }) => {
       const { state, close, submit } = useInlineAssist(editor);
       const inputRef = useRef<HTMLInputElement>(null);
       
       useEffect(() => {
           if (state.isVisible && inputRef.current) {
               inputRef.current.focus();
           }
       }, [state.isVisible]);
       
       if (!state.isVisible) {
           return null;
       }
       
       return (
           <div
               className="fixed bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg p-2 z-50"
               style={{
                   left: `${position.x}px`,
                   top: `${position.y}px`,
               }}
           >
               <input
                   ref={inputRef}
                   type="text"
                   value={state.instruction}
                   onChange={(e) => setState(prev => ({ ...prev, instruction: e.target.value }))}
                   onKeyDown={(e) => {
                       if (e.key === 'Enter') {
                           submit();
                       } else if (e.key === 'Escape') {
                           close();
                       }
                   }}
                   placeholder="è¾“å…¥æŒ‡ä»¤ï¼Œå¦‚ï¼šæ”¹å¾—æ›´æ­£å¼"
                   className="w-64 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded"
               />
               {state.isLoading && (
                   <div className="text-sm text-gray-500 mt-1">å¤„ç†ä¸­...</div>
               )}
           </div>
       );
   };
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… InlineAssistInput ç»„ä»¶å®ç°å®Œæˆ
- âœ… è¾“å…¥æ¡†æ˜¾ç¤ºæ­£å¸¸
- âœ… å¿«æ·é”®æ”¯æŒï¼ˆEnter æäº¤ï¼ŒEscape å…³é—­ï¼‰
- âœ… æ ·å¼æ­£ç¡®

#### 14.1.3 Diff è§†å›¾ç»„ä»¶

**ä»»åŠ¡**ï¼šå®ç° Diff è§†å›¾ç»„ä»¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º DiffView ç»„ä»¶**
   ```typescript
   // src/components/Editor/DiffView.tsx
   import React from 'react';
   
   interface DiffViewProps {
       original: string;
       updated: string;
       onAccept: () => void;
       onCancel: () => void;
   }
   
   export const DiffView: React.FC<DiffViewProps> = ({
       original,
       updated,
       onAccept,
       onCancel,
   }) => {
       return (
           <div className="border border-gray-300 dark:border-gray-600 rounded-lg p-4">
               <div className="mb-2">
                   <div className="text-sm font-semibold mb-1">åŸå§‹æ–‡æœ¬ï¼š</div>
                   <div className="bg-red-50 dark:bg-red-900/20 p-2 rounded">
                       {original}
                   </div>
               </div>
               <div className="mb-2">
                   <div className="text-sm font-semibold mb-1">ä¿®æ”¹åï¼š</div>
                   <div className="bg-green-50 dark:bg-green-900/20 p-2 rounded">
                       {updated}
                   </div>
               </div>
               <div className="flex gap-2">
                   <button
                       onClick={onAccept}
                       className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
                   >
                       åº”ç”¨
                   </button>
                   <button
                       onClick={onCancel}
                       className="px-4 py-2 bg-gray-300 dark:bg-gray-600 rounded hover:bg-gray-400"
                   >
                       å–æ¶ˆ
                   </button>
               </div>
           </div>
       );
   };
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… DiffView ç»„ä»¶å®ç°å®Œæˆ
- âœ… Diff æ˜¾ç¤ºæ­£ç¡®ï¼ˆçº¢è‰²åˆ é™¤ï¼Œç»¿è‰²æ·»åŠ ï¼‰
- âœ… åº”ç”¨/å–æ¶ˆæŒ‰é’®åŠŸèƒ½æ­£å¸¸
- âœ… æ ·å¼æ­£ç¡®

#### 14.1.4 Cmd+K å¿«æ·é”®é›†æˆ

**ä»»åŠ¡**ï¼šé›†æˆ Cmd+K å¿«æ·é”®

**å…·ä½“æ­¥éª¤**ï¼š

1. **åœ¨ EditorPanel ä¸­æ·»åŠ å¿«æ·é”®ç›‘å¬**
   ```typescript
   // src/components/Editor/EditorPanel.tsx
   useEffect(() => {
       const handleKeyDown = (e: KeyboardEvent) => {
           const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
           const modifier = isMac ? e.metaKey : e.ctrlKey;
           
           if (modifier && e.key === 'k' && !e.shiftKey && !e.altKey) {
               e.preventDefault();
               const selectedText = editor?.state.doc.textBetween(
                   editor.state.selection.from,
                   editor.state.selection.to
               ) || '';
               inlineAssist.open(selectedText);
           }
       };
       
       window.addEventListener('keydown', handleKeyDown);
       return () => window.removeEventListener('keydown', handleKeyDown);
   }, [editor, inlineAssist]);
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… Cmd+K å¿«æ·é”®é›†æˆå®Œæˆ
- âœ… å¿«æ·é”®è§¦å‘æ­£å¸¸
- âœ… é€‰ä¸­æ–‡æœ¬æ—¶ä¼ é€’é€‰ä¸­å†…å®¹
- âœ… æœªé€‰ä¸­æ—¶ä¼ é€’å…‰æ ‡ä½ç½®ä¸Šä¸‹æ–‡

---

## Week 15ï¼šå±‚æ¬¡ä¸‰ - èŠå¤©çª—å£åŠŸèƒ½

### ç›®æ ‡

å®ç°å®Œæ•´çš„èŠå¤©çª—å£åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¤šæ ‡ç­¾ã€æ¨¡å‹åˆ‡æ¢ã€è®°å¿†åº“ã€æ–‡ä»¶å¼•ç”¨ç­‰ã€‚

### 15.1 èŠå¤©çª—å£åŸºç¡€åŠŸèƒ½ï¼ˆDay 1-3ï¼‰

#### 15.1.1 èŠå¤©çŠ¶æ€ç®¡ç†

**ä»»åŠ¡**ï¼šå®ç°èŠå¤©çŠ¶æ€ç®¡ç†

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»ºèŠå¤© Store**
   ```typescript
   // src/stores/chatStore.ts
   import { create } from 'zustand';
   
   export interface ChatMessage {
       id: string;
       role: 'user' | 'assistant';
       content: string;
       timestamp: number;
       references?: string[]; // å¼•ç”¨çš„æ–‡ä»¶è·¯å¾„
   }
   
   export interface ChatTab {
       id: string;
       title: string;
       messages: ChatMessage[];
       model: string;
       isStreaming: boolean;
   }
   
   interface ChatStore {
       tabs: ChatTab[];
       activeTabId: string | null;
       addTab: () => void;
       removeTab: (id: string) => void;
       setActiveTab: (id: string) => void;
       addMessage: (tabId: string, message: ChatMessage) => void;
       setModel: (tabId: string, model: string) => void;
   }
   
   export const useChatStore = create<ChatStore>((set) => ({
       tabs: [],
       activeTabId: null,
       addTab: () => {
           const newTab: ChatTab = {
               id: `chat-${Date.now()}`,
               title: `èŠå¤© ${Date.now()}`,
               messages: [],
               model: 'gpt-4o',
               isStreaming: false,
           };
           set((state) => ({
               tabs: [...state.tabs, newTab],
               activeTabId: newTab.id,
           }));
       },
       removeTab: (id: string) => {
           set((state) => ({
               tabs: state.tabs.filter((t) => t.id !== id),
               activeTabId: state.activeTabId === id 
                   ? state.tabs.find((t) => t.id !== id)?.id || null
                   : state.activeTabId,
           }));
       },
       setActiveTab: (id: string) => {
           set({ activeTabId: id });
       },
       addMessage: (tabId: string, message: ChatMessage) => {
           set((state) => ({
               tabs: state.tabs.map((tab) =>
                   tab.id === tabId
                       ? { ...tab, messages: [...tab.messages, message] }
                       : tab
               ),
           }));
       },
       setModel: (tabId: string, model: string) => {
           set((state) => ({
               tabs: state.tabs.map((tab) =>
                   tab.id === tabId ? { ...tab, model } : tab
               ),
           }));
       },
   }));
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… èŠå¤© Store å®ç°å®Œæˆ
- âœ… å¤šæ ‡ç­¾ç®¡ç†å®ç°å®Œæˆ
- âœ… æ¶ˆæ¯ç®¡ç†å®ç°å®Œæˆ
- âœ… æ¨¡å‹åˆ‡æ¢å®ç°å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

#### 15.1.2 èŠå¤©çª—å£ç»„ä»¶

**ä»»åŠ¡**ï¼šå®ç°èŠå¤©çª—å£ç»„ä»¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º ChatPanel ç»„ä»¶**
   ```typescript
   // src/components/Chat/ChatPanel.tsx
   import React from 'react';
   import { useChatStore } from '../../stores/chatStore';
   import { ChatTabs } from './ChatTabs';
   import { ChatMessages } from './ChatMessages';
   import { ChatInput } from './ChatInput';
   
   export const ChatPanel: React.FC = () => {
       const { tabs, activeTabId, addTab, removeTab, setActiveTab } = useChatStore();
       const activeTab = tabs.find((t) => t.id === activeTabId);
       
       return (
           <div className="h-full flex flex-col bg-white dark:bg-gray-800">
               <ChatTabs
                   tabs={tabs}
                   activeTabId={activeTabId}
                   onAddTab={addTab}
                   onRemoveTab={removeTab}
                   onSelectTab={setActiveTab}
               />
               <ChatMessages messages={activeTab?.messages || []} />
               <ChatInput tabId={activeTabId} />
           </div>
       );
   };
   ```

2. **åˆ›å»ºå­ç»„ä»¶**
   - ChatTabsï¼šæ ‡ç­¾æ 
   - ChatMessagesï¼šæ¶ˆæ¯åˆ—è¡¨
   - ChatInputï¼šè¾“å…¥æ¡†

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… ChatPanel ç»„ä»¶å®ç°å®Œæˆ
- âœ… å­ç»„ä»¶å®ç°å®Œæˆ
- âœ… å¸ƒå±€æ­£ç¡®
- âœ… æ ·å¼æ­£ç¡®

#### 15.1.3 æµå¼å“åº”å¤„ç†ï¼ˆDay 2ï¼‰âš ï¸ **é«˜å±ä¿®å¤**

**ä»»åŠ¡**ï¼šå®ç°æµå¼å“åº”çš„å‰ç«¯å®æ—¶æ¸²æŸ“

**é—®é¢˜**ï¼šåç«¯åªå†™äº† `emit_all("ai-chat-stream", ...)`ï¼Œä½†å‰ç«¯æ ¹æœ¬æ²¡å†™å¦‚ä½•æŠŠ chunk æ‹¼æˆä¸€æ¡å®Œæ•´æ¶ˆæ¯ã€‚ç”¨æˆ·å‘å®Œé—®é¢˜åï¼ŒèŠå¤©çª—å£æ°¸è¿œå¡åœ¨"æ­£åœ¨æ€è€ƒâ€¦"ï¼Œå®é™…åœ¨ç–¯ç‹‚æ”¶åˆ° chunk ä½†ä¸æ˜¾ç¤ºã€‚

**å…·ä½“æ­¥éª¤**ï¼š

1. **å®ç°æµå¼å“åº”ç›‘å¬å’Œæ¶ˆæ¯æ‹¼æ¥**
   ```typescript
   // src/services/chatService.ts
   import { listen } from '@tauri-apps/api/event';
   import { invoke } from '@tauri-apps/api/core';
   import { useChatStore } from '../stores/chatStore';
   
   export const chatService = {
       async sendMessage(tabId: string, content: string, context: ChatContext) {
           const { addMessage, updateMessageContent, setStreaming } = useChatStore.getState();
           
           // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
           addMessage(tabId, {
               id: `msg-user-${Date.now()}`,
               role: 'user',
               content,
               timestamp: Date.now(),
           });
           
           // åˆ›å»ºç©ºçš„åŠ©æ‰‹æ¶ˆæ¯ï¼Œç”¨äºæµå¼æ›´æ–°
           const assistantMessageId = `msg-assistant-${Date.now()}`;
           addMessage(tabId, {
               id: assistantMessageId,
               role: 'assistant',
               content: '', // åˆå§‹ä¸ºç©º
               timestamp: Date.now(),
           });
           
           // å¼€å§‹æµå¼å“åº”
           setStreaming(tabId, true);
           
           // ç´¯ç§¯æ¥æ”¶åˆ°çš„å†…å®¹
           let accumulatedContent = '';
           
           // ç›‘å¬æµå¼å“åº”äº‹ä»¶
           const unlisten = await listen<{
               tab_id: string;
               chunk: string;
               done: boolean;
           }>('ai-chat-stream', (event) => {
               const { tab_id, chunk, done } = event.payload;
               
               if (tab_id === tabId) {
                   if (done) {
                       // æµå¼å“åº”å®Œæˆ
                       setStreaming(tabId, false);
                       unlisten();
                       
                       // ç¡®ä¿æœ€åçš„å†…å®¹è¢«ä¿å­˜
                       if (accumulatedContent) {
                           updateMessageContent(tabId, assistantMessageId, accumulatedContent);
                       }
                   } else {
                       // ç´¯ç§¯ chunk
                       accumulatedContent += chunk;
                       
                       // å®æ—¶æ›´æ–°æ¶ˆæ¯å†…å®¹ï¼ˆèŠ‚æµï¼Œé¿å…è¿‡äºé¢‘ç¹çš„æ›´æ–°ï¼‰
                       updateMessageContent(tabId, assistantMessageId, accumulatedContent);
                   }
               }
           });
           
           try {
               // è°ƒç”¨åç«¯å‘½ä»¤
               await invoke('ai_chat_stream', {
                   tabId,
                   messages: context.messages,
                   context,
               });
           } catch (error) {
               console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error);
               setStreaming(tabId, false);
               unlisten();
               
               // æ›´æ–°æ¶ˆæ¯æ˜¾ç¤ºé”™è¯¯
               updateMessageContent(tabId, assistantMessageId, `é”™è¯¯: ${error}`);
           }
       },
   };
   ```

2. **æ›´æ–° ChatStore æ·»åŠ æ¶ˆæ¯æ›´æ–°æ–¹æ³•**
   ```typescript
   // src/stores/chatStore.ts
   interface ChatStore {
       // ... å…¶ä»–æ–¹æ³•
       updateMessageContent: (tabId: string, messageId: string, content: string) => void;
   }
   
   export const useChatStore = create<ChatStore>((set) => ({
       // ... å…¶ä»–çŠ¶æ€
       updateMessageContent: (tabId: string, messageId: string, content: string) => {
           set((state) => ({
               tabs: state.tabs.map((tab) =>
                   tab.id === tabId
                       ? {
                           ...tab,
                           messages: tab.messages.map((msg) =>
                               msg.id === messageId
                                   ? { ...msg, content }
                                   : msg
                           ),
                       }
                       : tab
               ),
           }));
       },
   }));
   ```

3. **åœ¨ ChatMessages ç»„ä»¶ä¸­å®æ—¶æ˜¾ç¤º**
   ```typescript
   // src/components/Chat/ChatMessages.tsx
   export const ChatMessages: React.FC<{ messages: ChatMessage[] }> = ({ messages }) => {
       return (
           <div className="flex-1 overflow-y-auto p-4 space-y-4">
               {messages.map((message) => (
                   <div
                       key={message.id}
                       className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}
                   >
                       <div
                           className={`max-w-3xl rounded-lg p-3 ${
                               message.role === 'user'
                                   ? 'bg-blue-600 text-white'
                                   : 'bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100'
                           }`}
                       >
                           {/* å®æ—¶æ˜¾ç¤ºå†…å®¹ï¼Œæ”¯æŒ Markdown */}
                           <div className="prose dark:prose-invert max-w-none">
                               {message.content || (
                                   <span className="text-gray-400">æ­£åœ¨æ€è€ƒ...</span>
                               )}
                           </div>
                       </div>
                   </div>
               ))}
           </div>
       );
   };
   ```

4. **æ·»åŠ æ¶ˆæ¯è¾“å…¥ loading åŠ¨ç”»**ï¼ˆä¸­å±ä¿®å¤ï¼‰
   ```typescript
   // src/components/Chat/ChatMessages.tsx
   {message.role === 'assistant' && !message.content && (
       <div className="flex items-center gap-2 text-gray-400">
           <div className="flex gap-1">
               <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
               <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
               <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
           </div>
           <span className="text-sm">æ­£åœ¨æ€è€ƒ...</span>
       </div>
   )}
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æµå¼å“åº”ç›‘å¬å®ç°å®Œæˆ
- âœ… chunk æ­£ç¡®ç´¯ç§¯æˆå®Œæ•´æ¶ˆæ¯
- âœ… æ¶ˆæ¯å®æ—¶æ›´æ–°æ˜¾ç¤ºæ­£å¸¸
- âœ… loading åŠ¨ç”»æ˜¾ç¤ºæ­£å¸¸
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼ˆèŠ‚æµæ›´æ–°ï¼Œé¿å…å¡é¡¿ï¼‰

### 15.2 è®°å¿†åº“åŠŸèƒ½ï¼ˆDay 4-5ï¼‰âš ï¸ **ä¸­å±ä¿®å¤**

#### 15.2.1 è®°å¿†åº“æœåŠ¡å®ç°

**ä»»åŠ¡**ï¼šå®ç°è®°å¿†åº“åç«¯æœåŠ¡ï¼Œæ”¯æŒæ‰‹åŠ¨æ ‡è®°å’Œ AI è¾…åŠ©è¯†åˆ«

**é—®é¢˜**ï¼šè®°å¿†åº“å®Œå…¨æ˜¯"çº¯æ‰‹åŠ¨æ ‡è®°"ï¼Œä½†è®¡åˆ’é‡Œå†™äº†"è‡ªåŠ¨è¯†åˆ«äººç‰©/äº‹ä»¶"ã€‚è¿™åœ¨ä¸­æ–‡é•¿ç¯‡é‡Œå‡†ç¡®ç‡ < 50%ï¼Œç”¨æˆ·ä¼šå¤±æœ›ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šé‡‡ç”¨"æ‰‹åŠ¨æ ‡è®° + AI è¾…åŠ©å»ºè®®"çš„æ··åˆæ¨¡å¼ï¼Œä¸å¼ºåˆ¶è‡ªåŠ¨è¯†åˆ«ã€‚

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»ºè®°å¿†åº“æœåŠ¡**
   ```rust
   // src-tauri/src/services/memory_service.rs
   use rusqlite::{Connection, Result};
   use serde::{Deserialize, Serialize};
   
   #[derive(Debug, Clone, Serialize, Deserialize)]
   pub struct Memory {
       pub id: String,
       pub document_path: String,
       pub entity_type: String, // "character", "event", "timeline", "location", "custom"
       pub entity_name: String,
       pub content: String,
       pub metadata: serde_json::Value,
       pub source: String, // "manual" æˆ– "ai_suggested"
       pub confidence: f64, // AI å»ºè®®çš„ç½®ä¿¡åº¦ï¼ˆ0.0-1.0ï¼‰
   }
   
   pub struct MemoryService {
       db: Connection,
   }
   
   impl MemoryService {
       pub fn new(db_path: &str) -> Result<Self> {
           let db = Connection::open(db_path)?;
           db.execute(
               "CREATE TABLE IF NOT EXISTS memories (
                   id TEXT PRIMARY KEY,
                   document_path TEXT NOT NULL,
                   entity_type TEXT NOT NULL,
                   entity_name TEXT NOT NULL,
                   content TEXT NOT NULL,
                   metadata TEXT NOT NULL,
                   source TEXT NOT NULL DEFAULT 'manual',
                   confidence REAL DEFAULT 1.0
               )",
               [],
           )?;
           Ok(Self { db })
       }
       
       // æ‰‹åŠ¨æ·»åŠ è®°å¿†
       pub fn add_memory(&self, memory: Memory) -> Result<()> {
           self.db.execute(
               "INSERT OR REPLACE INTO memories (id, document_path, entity_type, entity_name, content, metadata, source, confidence)
                VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8)",
               &[
                   &memory.id,
                   &memory.document_path,
                   &memory.entity_type,
                   &memory.entity_name,
                   &memory.content,
                   &serde_json::to_string(&memory.metadata).unwrap(),
                   &memory.source,
                   &memory.confidence.to_string(),
               ],
           )?;
           Ok(())
       }
       
       // AI è¾…åŠ©è¯†åˆ«ï¼ˆå¯é€‰ï¼Œä¸å¼ºåˆ¶ï¼‰
       pub async fn suggest_memories(&self, document_path: &str, content: &str) -> Result<Vec<Memory>> {
           // è°ƒç”¨ AI æœåŠ¡è¯†åˆ«å®ä½“ï¼ˆå¯é€‰åŠŸèƒ½ï¼‰
           // è¿”å›å»ºè®®åˆ—è¡¨ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æ¥å—æˆ–æ‹’ç»
           // é»˜è®¤ä¸è‡ªåŠ¨æ·»åŠ ï¼Œåªä½œä¸ºå»ºè®®
           Ok(vec![])
       }
       
       pub fn get_memories(&self, document_path: &str) -> Result<Vec<Memory>> {
           // è·å–æ–‡æ¡£çš„æ‰€æœ‰è®°å¿†
       }
       
       pub fn search_memories(&self, query: &str) -> Result<Vec<Memory>> {
           // æœç´¢è®°å¿†
       }
   }
   ```

2. **å‰ç«¯è®°å¿†åº“ UI æ”¯æŒæ‰‹åŠ¨æ·»åŠ å’Œ AI å»ºè®®**
   ```typescript
   // src/components/Chat/MemoryTab.tsx
   export const MemoryTab: React.FC = () => {
       const [memories, setMemories] = React.useState<Memory[]>([]);
       const [showAddDialog, setShowAddDialog] = React.useState(false);
       const [aiSuggestions, setAiSuggestions] = React.useState<Memory[]>([]);
       
       // æ‰‹åŠ¨æ·»åŠ è®°å¿†
       const handleAddMemory = async (memory: Omit<Memory, 'id'>) => {
           await invoke('add_memory', { memory: { ...memory, id: uuid(), source: 'manual', confidence: 1.0 } });
           loadMemories();
       };
       
       // è¯·æ±‚ AI å»ºè®®ï¼ˆå¯é€‰ï¼‰
       const handleRequestSuggestions = async () => {
           const suggestions = await invoke<Memory[]>('suggest_memories', {
               documentPath: currentDocumentPath,
           });
           setAiSuggestions(suggestions);
       };
       
       return (
           <div className="p-4">
               <div className="flex justify-between items-center mb-4">
                   <h3 className="text-lg font-semibold">è®°å¿†åº“</h3>
                   <div className="flex gap-2">
                       <button
                           onClick={handleRequestSuggestions}
                           className="px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700"
                       >
                           AI å»ºè®®
                       </button>
                       <button
                           onClick={() => setShowAddDialog(true)}
                           className="px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700"
                       >
                           æ‰‹åŠ¨æ·»åŠ 
                       </button>
                   </div>
               </div>
               
               {/* AI å»ºè®®åŒºåŸŸï¼ˆå¯é€‰ï¼‰ */}
               {aiSuggestions.length > 0 && (
                   <div className="mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-800">
                       <div className="text-sm font-semibold mb-2">AI å»ºè®®ï¼ˆè¯·é€‰æ‹©æ¥å—æˆ–å¿½ç•¥ï¼‰ï¼š</div>
                       {aiSuggestions.map((suggestion) => (
                           <div key={suggestion.id} className="flex items-center justify-between p-2 mb-2 bg-white dark:bg-gray-800 rounded">
                               <div>
                                   <div className="font-semibold">{suggestion.entity_name}</div>
                                   <div className="text-xs text-gray-500">ç½®ä¿¡åº¦: {(suggestion.confidence * 100).toFixed(0)}%</div>
                               </div>
                               <div className="flex gap-2">
                                   <button onClick={() => handleAddMemory(suggestion)} className="text-sm text-green-600">æ¥å—</button>
                                   <button onClick={() => setAiSuggestions(prev => prev.filter(m => m.id !== suggestion.id))} className="text-sm text-gray-400">å¿½ç•¥</button>
                               </div>
                           </div>
                       ))}
                   </div>
               )}
               
               {/* è®°å¿†åˆ—è¡¨ */}
               <div className="space-y-2">
                   {memories.map((memory) => (
                       <div key={memory.id} className="border rounded p-2">
                           <div className="font-semibold">{memory.entity_name}</div>
                           <div className="text-sm text-gray-500">{memory.entity_type}</div>
                           <div className="text-sm">{memory.content}</div>
                       </div>
                   ))}
               </div>
           </div>
       );
   };
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… è®°å¿†åº“æœåŠ¡å®ç°å®Œæˆ
- âœ… æ”¯æŒæ‰‹åŠ¨æ·»åŠ è®°å¿†
- âœ… AI å»ºè®®åŠŸèƒ½å¯é€‰ï¼ˆä¸å¼ºåˆ¶è‡ªåŠ¨è¯†åˆ«ï¼‰
- âœ… æ•°æ®åº“æ“ä½œæ­£å¸¸
- âœ… æœç´¢åŠŸèƒ½å®ç°å®Œæˆ
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡

#### 15.2.2 è®°å¿†åº“ UI ç»„ä»¶

**ä»»åŠ¡**ï¼šå®ç°è®°å¿†åº“ UI ç»„ä»¶

**å…·ä½“æ­¥éª¤**ï¼š

1. **åˆ›å»º MemoryTab ç»„ä»¶**
   ```typescript
   // src/components/Chat/MemoryTab.tsx
   import React from 'react';
   import { invoke } from '@tauri-apps/api/core';
   
   interface Memory {
       id: string;
       document_path: string;
       entity_type: string;
       entity_name: string;
       content: string;
   }
   
   export const MemoryTab: React.FC = () => {
       const [memories, setMemories] = React.useState<Memory[]>([]);
       
       React.useEffect(() => {
           loadMemories();
       }, []);
       
       const loadMemories = async () => {
           try {
               const result = await invoke<Memory[]>('get_memories', {
                   documentPath: currentDocumentPath,
               });
               setMemories(result);
           } catch (error) {
               console.error('åŠ è½½è®°å¿†å¤±è´¥:', error);
           }
       };
       
       return (
           <div className="p-4">
               <h3 className="text-lg font-semibold mb-4">è®°å¿†åº“</h3>
               <div className="space-y-2">
                   {memories.map((memory) => (
                       <div key={memory.id} className="border rounded p-2">
                           <div className="font-semibold">{memory.entity_name}</div>
                           <div className="text-sm text-gray-500">{memory.entity_type}</div>
                           <div className="text-sm">{memory.content}</div>
                       </div>
                   ))}
               </div>
           </div>
       );
   };
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… MemoryTab ç»„ä»¶å®ç°å®Œæˆ
- âœ… è®°å¿†æ˜¾ç¤ºæ­£å¸¸
- âœ… æœç´¢åŠŸèƒ½å®ç°å®Œæˆ
- âœ… æ ·å¼æ­£ç¡®

---

## Week 16ï¼šSQLite å…¨æ–‡ç´¢å¼•å’Œä¼˜åŒ–

### ç›®æ ‡

å®ç° SQLite å…¨æ–‡ç´¢å¼•åŠŸèƒ½ï¼Œä¼˜åŒ–æœç´¢æ€§èƒ½ï¼Œå®Œå–„ AI åŠŸèƒ½ã€‚

### 16.1 SQLite å…¨æ–‡ç´¢å¼•å®ç°ï¼ˆDay 1-3ï¼‰

#### 16.1.1 FTS5 å…¨æ–‡ç´¢å¼•æœåŠ¡

**ä»»åŠ¡**ï¼šå®ç° SQLite FTS5 å…¨æ–‡ç´¢å¼•

**å…·ä½“æ­¥éª¤**ï¼š

1. **æ·»åŠ ä¾èµ–**
   ```toml
   # src-tauri/Cargo.toml
   [dependencies]
   rusqlite = { version = "0.31", features = ["bundled", "fts5"] }
   ```

2. **å®ç°å…¨æ–‡ç´¢å¼•æœåŠ¡**
   ```rust
   // src-tauri/src/services/search_service.rs
   use rusqlite::{Connection, Result};
   
   pub struct SearchService {
       db: Connection,
   }
   
   impl SearchService {
       pub fn new(db_path: &str) -> Result<Self> {
           let db = Connection::open(db_path)?;
           
           // åˆ›å»º FTS5 è™šæ‹Ÿè¡¨
           db.execute(
               "CREATE VIRTUAL TABLE IF NOT EXISTS documents_fts USING fts5(
                   path,
                   content,
                   title
               )",
               [],
           )?;
           
           Ok(Self { db })
       }
       
       pub fn index_document(&self, path: &str, content: &str, title: &str) -> Result<()> {
           // ç´¢å¼•æ–‡æ¡£
           self.db.execute(
               "INSERT OR REPLACE INTO documents_fts (path, content, title) VALUES (?1, ?2, ?3)",
               &[path, content, title],
           )?;
           Ok(())
       }
       
       pub fn search(&self, query: &str) -> Result<Vec<SearchResult>> {
           // å…¨æ–‡æœç´¢
           let mut stmt = self.db.prepare(
               "SELECT path, title, snippet(documents_fts, 2, '<mark>', '</mark>', '...', 32) as snippet
                FROM documents_fts
                WHERE documents_fts MATCH ?1
                ORDER BY rank
                LIMIT 50"
           )?;
           
           let results = stmt.query_map(&[query], |row| {
               Ok(SearchResult {
                   path: row.get(0)?,
                   title: row.get(1)?,
                   snippet: row.get(2)?,
               })
           })?;
           
           results.collect()
       }
   }
   ```

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… FTS5 å…¨æ–‡ç´¢å¼•å®ç°å®Œæˆ
- âœ… æ–‡æ¡£ç´¢å¼•åŠŸèƒ½æ­£å¸¸
- âœ… æœç´¢åŠŸèƒ½å®ç°å®Œæˆ
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼ˆæ¯«ç§’çº§æœç´¢ï¼‰

#### 16.1.2 å¢é‡ç´¢å¼•æ›´æ–°

**ä»»åŠ¡**ï¼šå®ç°å¢é‡ç´¢å¼•æ›´æ–°

**å…·ä½“æ­¥éª¤**ï¼š

1. **ç›‘å¬æ–‡ä»¶å˜åŒ–**
   - ä½¿ç”¨æ–‡ä»¶ç›‘å¬æœåŠ¡ç›‘å¬æ–‡ä»¶å˜åŒ–
   - æ–‡ä»¶ä¿®æ”¹æ—¶è‡ªåŠ¨æ›´æ–°ç´¢å¼•
   - æ–‡ä»¶åˆ é™¤æ—¶è‡ªåŠ¨åˆ é™¤ç´¢å¼•

2. **æ‰¹é‡ç´¢å¼•**
   - å·¥ä½œåŒºæ‰“å¼€æ—¶æ‰¹é‡ç´¢å¼•æ‰€æœ‰æ–‡æ¡£
   - ä½¿ç”¨åå°ä»»åŠ¡ï¼Œä¸é˜»å¡ UI

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… å¢é‡ç´¢å¼•æ›´æ–°å®ç°å®Œæˆ
- âœ… æ–‡ä»¶ç›‘å¬é›†æˆå®Œæˆ
- âœ… æ‰¹é‡ç´¢å¼•å®ç°å®Œæˆ
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡

### 16.2 AI åŠŸèƒ½ä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆDay 4-5ï¼‰

#### 16.2.1 æ€§èƒ½ä¼˜åŒ–

**ä»»åŠ¡**ï¼šä¼˜åŒ– AI åŠŸèƒ½æ€§èƒ½

**å…·ä½“æ­¥éª¤**ï¼š

1. **è¯·æ±‚ç¼“å­˜ä¼˜åŒ–**
   - ä¼˜åŒ– LRU ç¼“å­˜å¤§å°
   - å®ç°æ›´æ™ºèƒ½çš„ç¼“å­˜ç­–ç•¥

2. **è¯·æ±‚å»é‡ä¼˜åŒ–**
   - ä¼˜åŒ–å»é‡ç®—æ³•
   - å‡å°‘é‡å¤è¯·æ±‚

3. **æµå¼å“åº”ä¼˜åŒ–**
   - ä¼˜åŒ–æµå¼å“åº”å¤„ç†
   - å‡å°‘å†…å­˜å ç”¨

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ€§èƒ½ä¼˜åŒ–å®Œæˆ
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡
- âœ… å†…å­˜å ç”¨æµ‹è¯•é€šè¿‡

#### 16.2.2 æµ‹è¯•å’Œæ–‡æ¡£

**ä»»åŠ¡**ï¼šå®Œå–„æµ‹è¯•å’Œæ–‡æ¡£

**å…·ä½“æ­¥éª¤**ï¼š

1. **å•å…ƒæµ‹è¯•**
   - AI æœåŠ¡å•å…ƒæµ‹è¯•
   - è‡ªåŠ¨è¡¥å…¨å•å…ƒæµ‹è¯•
   - Inline Assist å•å…ƒæµ‹è¯•
   - èŠå¤©åŠŸèƒ½å•å…ƒæµ‹è¯•

2. **é›†æˆæµ‹è¯•**
   - AI åŠŸèƒ½é›†æˆæµ‹è¯•
   - å…¨æ–‡æœç´¢é›†æˆæµ‹è¯•

3. **æ–‡æ¡£æ›´æ–°**
   - API æ–‡æ¡£æ›´æ–°
   - ç”¨æˆ·æ‰‹å†Œæ›´æ–°
   - å¼€å‘æ–‡æ¡£æ›´æ–°

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 80% ä»¥ä¸Š
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£æ›´æ–°å®Œæˆ

---

## å¼€å‘æ—¶é—´è¡¨

| å‘¨æ¬¡ | ä»»åŠ¡ | å·¥ä½œæ—¥ | ä¼˜å…ˆçº§ |
|------|------|--------|--------|
| Week 11 | AI æœåŠ¡åŸºç¡€æ¶æ„ | 5 å¤© | P0 |
| Week 12 | OpenAI æä¾›å•†å®ç° | 5 å¤© | P0 |
| Week 13 | è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ | 5 å¤© | P0 |
| Week 14 | Inline Assist åŠŸèƒ½ | 5 å¤© | P0 |
| Week 15 | èŠå¤©çª—å£åŠŸèƒ½ | 5 å¤© | P0 |
| Week 16 | SQLite å…¨æ–‡ç´¢å¼•å’Œä¼˜åŒ– | 5 å¤© | P0 |

**æ€»è®¡**ï¼š30 ä¸ªå·¥ä½œæ—¥ï¼ˆ6 å‘¨ï¼‰

---

## ä¾èµ–é¡¹æ£€æŸ¥æ¸…å•

### å‰ç«¯ä¾èµ–
- [ ] `@tauri-apps/api` - Tauri APIï¼ˆå·²å®‰è£…ï¼‰
- [ ] `zustand` - çŠ¶æ€ç®¡ç†ï¼ˆå·²å®‰è£…ï¼‰
- [ ] `@heroicons/react` - å›¾æ ‡åº“ï¼ˆå·²å®‰è£…ï¼‰

### åç«¯ä¾èµ–
- [ ] `reqwest` - HTTP å®¢æˆ·ç«¯
- [ ] `tokio-stream` - æµå¼å¤„ç†
- [ ] `keyring` - å¯†é’¥ç®¡ç†
- [ ] `rusqlite` - SQLite æ•°æ®åº“ï¼ˆFTS5 æ”¯æŒï¼‰
- [ ] `lru` - LRU ç¼“å­˜

### æƒé™é…ç½®
- [ ] ç½‘ç»œè¯·æ±‚æƒé™ï¼ˆAI API è°ƒç”¨ï¼‰
- [ ] æ–‡ä»¶ç³»ç»Ÿæƒé™ï¼ˆå·²é…ç½®ï¼‰
- [ ] äº‹ä»¶ç›‘å¬æƒé™ï¼ˆæµå¼å“åº”ï¼‰

---

## æµ‹è¯•è®¡åˆ’

### å•å…ƒæµ‹è¯•
- [ ] AI æœåŠ¡æµ‹è¯•
- [ ] è‡ªåŠ¨è¡¥å…¨æµ‹è¯•
- [ ] Inline Assist æµ‹è¯•
- [ ] èŠå¤©åŠŸèƒ½æµ‹è¯•
- [ ] å…¨æ–‡æœç´¢æµ‹è¯•

### é›†æˆæµ‹è¯•
- [ ] AI åŠŸèƒ½é›†æˆæµ‹è¯•
- [ ] å…¨æ–‡æœç´¢é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•

### æ‰‹åŠ¨æµ‹è¯•
- [ ] è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½æµ‹è¯•
- [ ] Inline Assist åŠŸèƒ½æµ‹è¯•
- [ ] èŠå¤©åŠŸèƒ½æµ‹è¯•
- [ ] å…¨æ–‡æœç´¢æµ‹è¯•
- [ ] é”™è¯¯åœºæ™¯æµ‹è¯•

---

## æ–‡æ¡£æ›´æ–°

### éœ€è¦æ›´æ–°çš„æ–‡æ¡£
- [ ] å¼€å‘è¿›åº¦æ–‡æ¡£
- [ ] API æ–‡æ¡£
- [ ] ç”¨æˆ·æ‰‹å†Œï¼ˆAI åŠŸèƒ½ä½¿ç”¨è¯´æ˜ï¼‰
- [ ] å¼€å‘æ–‡æ¡£ï¼ˆAI åŠŸèƒ½å®ç°ç»†èŠ‚ï¼‰

---

**è®¡åˆ’ç‰ˆæœ¬**ï¼šv3.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´  
**ä¸‹æ¬¡æ›´æ–°**ï¼šæ ¹æ®å¼€å‘è¿›åº¦è°ƒæ•´

